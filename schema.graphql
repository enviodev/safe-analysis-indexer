type Safe {
  id: ID! # chainId-address
  chainId: Int! @index
  initiator: String!
  owners: [String!]!
  numberOfOwners: Int! @index
  threshold: Int! @index
  thresholdOwnerRatio: Float!
  initializer: String!
  fallbackHandler: String!
  createdAt: BigInt! @index
  safeTransactions: [SafeTransaction!]! @derivedFrom(field: "safe")
  numberOfSuccessfulExecutions: Int! @index
  numberOfFailedExecutions: Int! @index
  totalGasSpent: BigInt!
}

type SafeTransaction {
  id: ID! # txHash
  safe: Safe!
  to: String!
  value: BigInt! @index
  data: String!
  operation: BigInt!
  safeTxGas: BigInt!
  baseGas: BigInt!
  gasPrice: BigInt!
  gasToken: String!
  refundReceiver: String!
  signatures: String!
  additionalInfo: String!
  executionDate: BigInt! @index
}

type Global {
  id: ID! # chainId
  chainId: Int! @index
  totalSafes: Int! @index
  totalSafeTransactions: Int! @index
  totalSuccessfulExecutions: Int! @index
  totalFailedExecutions: Int! @index
  totalGasSpent: BigInt! @index
  totalValueTransferred: BigInt! @index
}
